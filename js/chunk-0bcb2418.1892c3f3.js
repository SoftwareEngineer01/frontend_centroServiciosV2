(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bcb2418"],{"223c":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toastification"},[n("div",{staticClass:"d-flex align-items-start"},[n("b-avatar",{staticClass:"mr-75 flex-shrink-0",attrs:{variant:t.variant,size:"1.8rem"}},[n("feather-icon",{attrs:{icon:t.icon,size:"15"}})],1),n("div",{staticClass:"d-flex flex-grow-1"},[n("div",[t.title?n("h5",{staticClass:"mb-0 font-weight-bolder toastification-title",class:"text-"+t.variant,domProps:{textContent:t._s(t.title)}}):t._e(),t.text?n("small",{staticClass:"d-inline-block text-body",domProps:{textContent:t._s(t.text)}}):t._e()]),n("span",{staticClass:"cursor-pointer toastification-close-icon ml-auto ",on:{click:function(e){return t.$emit("close-toast")}}},[t.hideClose?t._e():n("feather-icon",{staticClass:"text-body",attrs:{icon:"XIcon"}})],1)])],1)])},r=[],o=n("e8a3"),i={components:{BAvatar:o["a"]},props:{variant:{type:String,default:"primary"},icon:{type:String,default:null},title:{type:String,default:null},text:{type:String,default:null},hideClose:{type:Boolean,default:!1}}},s=i,c=(n("b549"),n("2877")),l=Object(c["a"])(s,a,r,!1,null,"55dd3057",null);e["a"]=l.exports},"45f4":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-card",{staticClass:"mb-0",attrs:{"no-body":""}},[n("div",{staticClass:"m-2"},[n("b-row",[n("b-col",{staticClass:"d-flex align-items-center justify-content-start mb-1 mb-md-0",attrs:{cols:"12",md:"6"}},[n("label",[t._v("Ver")]),n("v-select",{staticClass:"per-page-selector d-inline-block mx-50",attrs:{dir:t.$store.state.appConfig.isRTL?"rtl":"ltr",options:t.perPageOptions,clearable:!1},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}}),n("label",[t._v("Entradas")])],1),n("b-col",{attrs:{cols:"12",md:"6"}},[n("div",{staticClass:"d-flex align-items-center justify-content-end"},[n("b-form-input",{staticClass:"d-inline-block mr-1",attrs:{placeholder:"Buscar..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),n("b-button",{attrs:{variant:"primary"},on:{click:t.addInventory}},[n("span",{staticClass:"text-nowrap"},[t._v("Agregar")])])],1)])],1)],1),t.loading?t._e():n("b-table",{ref:"refInventoryListTable",staticClass:"position-relative animated fadeIn",attrs:{items:t.items,fields:t.columns,responsive:"","primary-key":"id","sort-by":t.sortBy,"show-empty":"","empty-text":t.empty,"sort-desc":t.isSortDirDesc,filter:t.filter,"empty-filtered-text":t.empty,"current-page":t.currentPage,"per-page":t.perPage},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.isSortDirDesc=e},"update:sort-desc":function(e){t.isSortDirDesc=e}},scopedSlots:t._u([{key:"cell(status)",fn:function(e){return[n("b-form-checkbox",{class:[1==e.item.status?"custom-control-success":"custom-control-secondary"],attrs:{checked:[1==e.item.status?"true":"false"],name:"check-button",switch:""},on:{change:function(n){return t.changeStatus(e.item.id)}}})]}},{key:"cell(actions)",fn:function(e){return[n("b-dropdown",{attrs:{variant:"link","no-caret":"",right:t.$store.state.appConfig.isRTL},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("feather-icon",{staticClass:"align-middle text-body",attrs:{icon:"MoreVerticalIcon",size:"16"}})]},proxy:!0}],null,!0)},[n("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.editInventory",modifiers:{editInventory:!0}}],on:{click:function(n){return t.editInventory(e.item)}}},[n("feather-icon",{attrs:{icon:"EditIcon"}}),n("span",{staticClass:"align-middle ml-50"},[t._v("Editar")])],1)],1)]}}],null,!1,2657780535)}),n("div",{staticClass:"mx-2 mb-2"},[n("b-row",[n("b-col",{staticClass:"d-flex align-items-center justify-content-center justify-content-sm-start",attrs:{cols:"12",sm:"6"}},[n("span",{staticClass:"text-muted"},[t._v("Mostrando "+t._s(t.dataMeta.from)+" de "+t._s(t.dataMeta.to)+" de "+t._s(t.dataMeta.of)+" entradas")])]),n("b-col",{staticClass:"d-flex align-items-center justify-content-center justify-content-sm-end",attrs:{cols:"12",sm:"6"}},[n("b-pagination",{staticClass:"mb-0 mt-1 mt-sm-0",attrs:{"total-rows":t.rows,"per-page":t.perPage,"first-number":"","last-number":"","prev-class":"prev-item","next-class":"next-item"},scopedSlots:t._u([{key:"prev-text",fn:function(){return[n("feather-icon",{attrs:{icon:"ChevronLeftIcon",size:"18"}})]},proxy:!0},{key:"next-text",fn:function(){return[n("feather-icon",{attrs:{icon:"ChevronRightIcon",size:"18"}})]},proxy:!0}]),model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1),n("loading",{attrs:{loading:t.loading}})],1),n("InventoryEdit",{ref:"editModal",attrs:{inventory:this.dataInventory},on:{reload:t.getInventories}})],1)},r=[],o=n("1da1"),i=(n("96cf"),n("205f")),s=n("a15b"),c=n("b28b"),l=n("4797"),u=n("1947"),d=n("29a1"),f=n("34b6"),p=n("e8a3"),v=n("aa59"),m=n("e98b"),b=n("dd9a"),g=n("9eaa"),y=n("26d2"),h=n("4a7a"),x=n.n(h),_=n("223c"),k=n("c1df"),C=n.n(k),w=(n("898b"),n("d008")),I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("validation-observer",{ref:"inventoryEdit",scopedSlots:t._u([{key:"default",fn:function(e){var a=e.invalid;return[n("b-modal",{ref:"editModal",attrs:{id:"editInventory","hide-footer":"",title:"Editar Inventario",scrollable:""}},[t.validationErrors?n("ErrorValidation",{attrs:{errors:t.validationErrors}}):t._e(),n("div",{staticClass:"d-block"},[n("b-form",{on:{submit:function(e){return e.preventDefault(),t.updateInventory.apply(null,arguments)}}},[n("b-form-row",[n("b-col",{attrs:{md:"6"}},[n("b-form-group",{attrs:{label:"Código","label-for":"code"}},[n("validation-provider",{attrs:{name:"código",rules:"required|alpha-dash"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[n("b-form-input",{attrs:{id:"code",type:"text",placeholder:"Código",state:!(a.length>0)&&null},model:{value:t.inventory.code,callback:function(e){t.$set(t.inventory,"code",e)},expression:"inventory.code"}}),n("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)],1),n("b-col",{attrs:{md:"6"}},[n("b-form-group",{attrs:{label:"Referencia","label-for":"reference"}},[n("validation-provider",{attrs:{name:"referencia",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[n("b-form-input",{attrs:{id:"reference",type:"text",placeholder:"Referencia",state:!(a.length>0)&&null},model:{value:t.inventory.reference,callback:function(e){t.$set(t.inventory,"reference",e)},expression:"inventory.reference"}}),n("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)],1)],1),n("b-form-row",[n("b-col",{attrs:{md:"6"}},[n("b-form-group",{attrs:{label:"Linea","label-for":"line"}},[n("validation-provider",{attrs:{name:"linea",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[n("b-form-input",{attrs:{id:"line",type:"text",placeholder:"Linea",state:!(a.length>0)&&null},model:{value:t.inventory.line,callback:function(e){t.$set(t.inventory,"line",e)},expression:"inventory.line"}}),n("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)],1),n("b-col",{attrs:{md:"6"}},[n("b-form-group",{attrs:{label:"Costo","label-for":"cost"}},[n("validation-provider",{attrs:{name:"costo",rules:"required|integer"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[n("b-form-input",{attrs:{id:"cost",type:"text",placeholder:"Costo",state:!(a.length>0)&&null},model:{value:t.inventory.cost,callback:function(e){t.$set(t.inventory,"cost",e)},expression:"inventory.cost"}}),n("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)],1)],1),n("b-form-row",[n("b-col",{attrs:{md:"6"}},[n("b-form-group",{attrs:{label:"Cantidad","label-for":"cantidad"}},[n("validation-provider",{attrs:{name:"cantidad",rules:"required|integer"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[n("b-form-input",{attrs:{id:"cantidad",type:"text",placeholder:"Cantidad",state:!(a.length>0)&&null},model:{value:t.inventory.stock,callback:function(e){t.$set(t.inventory,"stock",e)},expression:"inventory.stock"}}),n("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)],1),n("b-col",{attrs:{md:"6"}},[n("b-form-group",{attrs:{label:"Cantidad Mínima","label-for":"cantidad_minima"}},[n("validation-provider",{attrs:{name:"cantidad_minima",rules:"required|integer"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[n("b-form-input",{attrs:{id:"cantidad_minima",type:"text",placeholder:"Cantidad Mínima",state:!(a.length>0)&&null},model:{value:t.inventory.min_stock,callback:function(e){t.$set(t.inventory,"min_stock",e)},expression:"inventory.min_stock"}}),n("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)],1)],1),n("b-form-row",[n("b-col",{attrs:{md:"12"}},[n("b-form-group",{attrs:{label:"Ubicación","label-for":"ubicacion"}},[n("validation-provider",{attrs:{name:"ubicacion",rules:"required|alpha-num"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[n("b-form-input",{attrs:{id:"ubicacion",type:"text",placeholder:"Ubicación",state:!(a.length>0)&&null},model:{value:t.inventory.location,callback:function(e){t.$set(t.inventory,"location",e)},expression:"inventory.location"}}),n("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)],1)],1),n("hr"),n("div",{staticClass:"text-right"},[n("button",{staticClass:"btn btn-danger btn-sm mx-1",attrs:{type:"button"},on:{click:function(e){return t.hideModal()}}},[t._v(" Cancelar ")]),n("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"submit",disabled:a}},[n("span",{staticClass:"fa fa-check"}),t._v(" Actualizar ")])])],1)],1)],1)]}}])})],1)},B=[],S={props:{inventory:{type:Object,default:function(){}}},components:{BCard:i["a"],BRow:s["a"],BCol:c["a"],BFormInput:l["a"],BButton:u["a"],BTable:d["a"],BMedia:f["a"],BAvatar:p["a"],BLink:v["a"],BBadge:m["a"],BDropdown:b["a"],BDropdownItem:g["a"],BPagination:y["a"],ToastificationContent:_["a"]},data:function(){return{validationErrors:""}},methods:{updateInventory:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w["h"](t.inventory.id,t.inventory);case 3:n=e.sent,200===n.status&&(t.hideModal(),t.$emit("reload"),t.showToast("Actualizado","CheckIcon","Producto Actualizado","success")),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),422===e.t0.response.status?t.validationErrors=e.t0.response.data.errors:t.showToast("Advertencia!","AlertCircleIcon","Ocurrió un error al actualizar el","warning");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},hideModal:function(){this.$refs.inventoryEdit.reset(),this.validationErrors="",this.$refs.editModal.hide(),this.$emit("reload")},showToast:function(t,e,n,a){this.$toast({component:_["a"],props:{title:t,icon:e,text:n,variant:a}})}}},E=S,P=n("2877"),$=Object(P["a"])(E,I,B,!1,null,null,null),j=$.exports,A={components:{ToastificationContent:_["a"],BCard:i["a"],BRow:s["a"],BCol:c["a"],BFormInput:l["a"],BButton:u["a"],BTable:d["a"],BMedia:f["a"],BAvatar:p["a"],BLink:v["a"],BBadge:m["a"],BDropdown:b["a"],BDropdownItem:g["a"],BPagination:y["a"],vSelect:x.a,InventoryEdit:j},data:function(){return{loading:!0,items:[],dataInventory:{},empty:"No hay datos para mostrar",columns:[{key:"code",label:"Código",sortable:!0},{key:"reference",label:"Referencia",sortable:!0},{key:"line",label:"Linea",sortable:!0},{key:"cost",label:"Costo",sortable:!0},{key:"stock",label:"Cantidad",sortable:!0},{key:"min_stock",label:"Cantidad Mínima",sortable:!0},{key:"location",label:"Ubicación",sortable:!0},{key:"created_at",label:"Fecha",sortable:!0,formatter:"moment"},{key:"status",label:"Estado",sortable:!0},{key:"actions",label:"Opciones",sortable:!0}],perPage:10,sortBy:"id",isSortDirDesc:!0,perPageOptions:[5,10,25,50],currentPage:1,filter:""}},computed:{rows:function(){return this.items.length},dataMeta:function(){return{from:(this.currentPage-1)*this.perPage+1,to:this.currentPage*this.perPage>this.rows?this.rows:this.currentPage*this.perPage,of:this.rows}}},watch:{currentPage:{handler:"getInventories",deep:!0}},created:function(){this.getInventories()},methods:{moment:function(t){return C()(t).format("LLLL")},getInventories:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w["d"]();case 3:n=e.sent,200===n.status&&(t.loading=!1,t.items=n.data.data),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),t.loading=!1,t.showToast("Warning","AlertCircleIcon","No se pudieron obtener los datos","warning");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},changeStatus:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w["a"](t);case 3:a=n.sent,200===a.status&&(e.getInventories(),e.showToast("Actualizado","CheckIcon","Estado actualizado correctamente","success")),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),e.showToast("Warning","AlertCircleIcon","El estado no fue actualizado correctamente","warning");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},addInventory:function(){this.$router.push({name:"inventory-add"})},editInventory:function(t){this.dataInventory=t},showToast:function(t,e,n,a){this.$toast({component:_["a"],props:{title:t,icon:e,text:n,variant:a}})}}},M=A,O=(n("f311"),Object(P["a"])(M,a,r,!1,null,"9089b26a",null));e["default"]=O.exports},"49b5":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("ac1f"),n("5319");var a=n("bc3a"),r=n.n(a),o=n("4360");function i(){return r.a.create({baseURL:o["a"].state.api.apiURL,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("accessToken").replace(/['"]+/g,""))}})}},5319:function(t,e,n){"use strict";var a=n("d784"),r=n("825a"),o=n("7b0b"),i=n("50c4"),s=n("a691"),c=n("1d80"),l=n("8aa5"),u=n("14c3"),d=Math.max,f=Math.min,p=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,b=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,n,a){var g=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=a.REPLACE_KEEPS_$0,h=g?"$":"$0";return[function(n,a){var r=c(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r,a):e.call(String(r),n,a)},function(t,a){if(!g&&y||"string"===typeof a&&-1===a.indexOf(h)){var o=n(e,t,this,a);if(o.done)return o.value}var c=r(t),p=String(this),v="function"===typeof a;v||(a=String(a));var m=c.global;if(m){var _=c.unicode;c.lastIndex=0}var k=[];while(1){var C=u(c,p);if(null===C)break;if(k.push(C),!m)break;var w=String(C[0]);""===w&&(c.lastIndex=l(p,i(c.lastIndex),_))}for(var I="",B=0,S=0;S<k.length;S++){C=k[S];for(var E=String(C[0]),P=d(f(s(C.index),p.length),0),$=[],j=1;j<C.length;j++)$.push(b(C[j]));var A=C.groups;if(v){var M=[E].concat($,P,p);void 0!==A&&M.push(A);var O=String(a.apply(void 0,M))}else O=x(E,p,P,$,A,a);P>=B&&(I+=p.slice(B,P)+O,B=P+E.length)}return I+p.slice(B)}];function x(t,n,a,r,i,s){var c=a+t.length,l=r.length,u=m;return void 0!==i&&(i=o(i),u=v),e.call(s,u,(function(e,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,a);case"'":return n.slice(c);case"<":s=i[o.slice(1,-1)];break;default:var u=+o;if(0===u)return e;if(u>l){var d=p(u/10);return 0===d?e:d<=l?void 0===r[d-1]?o.charAt(1):r[d-1]+o.charAt(1):e}s=r[u-1]}return void 0===s?"":s}))}}))},"8d81":function(t,e,n){},"958c":function(t,e,n){},b549:function(t,e,n){"use strict";n("8d81")},d008:function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"h",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return u})),n.d(e,"c",(function(){return d}));var a=n("49b5");function r(){return Object(a["a"])().get("/store_inventory")}function o(){return Object(a["a"])().get("/inventory_codes")}function i(t){return Object(a["a"])().post("/store_inventory",t)}function s(t){return Object(a["a"])().post("/store_inventory/".concat(t))}function c(t,e){return Object(a["a"])().put("/store_inventory/".concat(t),e)}function l(){return Object(a["a"])().get("/store_inventory_entries")}function u(t){return Object(a["a"])().post("/store_inventory_entry",t)}function d(t){return Object(a["a"])().post("/store_inventory_entry_delete/".concat(t))}},f311:function(t,e,n){"use strict";n("958c")}}]);
//# sourceMappingURL=chunk-0bcb2418.1892c3f3.js.map