(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10f82310"],{"15c8":function(t,e,r){"use strict";r("62b1")},"223c":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"toastification"},[r("div",{staticClass:"d-flex align-items-start"},[r("b-avatar",{staticClass:"mr-75 flex-shrink-0",attrs:{variant:t.variant,size:"1.8rem"}},[r("feather-icon",{attrs:{icon:t.icon,size:"15"}})],1),r("div",{staticClass:"d-flex flex-grow-1"},[r("div",[t.title?r("h5",{staticClass:"mb-0 font-weight-bolder toastification-title",class:"text-"+t.variant,domProps:{textContent:t._s(t.title)}}):t._e(),t.text?r("small",{staticClass:"d-inline-block text-body",domProps:{textContent:t._s(t.text)}}):t._e()]),r("span",{staticClass:"cursor-pointer toastification-close-icon ml-auto ",on:{click:function(e){return t.$emit("close-toast")}}},[t.hideClose?t._e():r("feather-icon",{staticClass:"text-body",attrs:{icon:"XIcon"}})],1)])],1)])},a=[],i=r("e8a3"),o={components:{BAvatar:i["a"]},props:{variant:{type:String,default:"primary"},icon:{type:String,default:null},title:{type:String,default:null},text:{type:String,default:null},hideClose:{type:Boolean,default:!1}}},s=o,c=(r("b549"),r("2877")),l=Object(c["a"])(s,n,a,!1,null,"55dd3057",null);e["a"]=l.exports},4383:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",{attrs:{title:"Agregar Inventario"}},[t.validationErrors?r("ErrorValidation",{attrs:{errors:t.validationErrors}}):t._e(),r("div",[r("b-button",{staticClass:"mb-2",attrs:{variant:"primary"},on:{click:function(e){return t.$router.go(-1)}}},[t._v(" Regresar ")]),r("validation-observer",{ref:"form_inventory",scopedSlots:t._u([{key:"default",fn:function(e){var n=e.invalid;return[r("b-form",{ref:"formInventory",staticClass:"repeater-form",style:{height:t.trHeight},on:{submit:function(e){return e.preventDefault(),t.repeateAgain.apply(null,arguments)}}},[t._l(t.items,(function(e,n){return r("b-row",{key:e.id,ref:"row",refInFor:!0,attrs:{id:e.id}},[r("b-col",{attrs:{md:"2"}},[r("b-form-group",{attrs:{label:"Código","label-for":"code"}},[r("validation-provider",{attrs:{name:"código",rules:"required|alpha-dash"},scopedSlots:t._u([{key:"default",fn:function(n){var a=n.errors;return[r("b-form-input",{attrs:{id:"code",type:"text",placeholder:"Código",state:!(a.length>0)&&null},model:{value:e.code,callback:function(r){t.$set(e,"code",r)},expression:"item.code"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)],1),r("b-col",{attrs:{md:"2"}},[r("b-form-group",{attrs:{label:"Referencia","label-for":"reference"}},[r("validation-provider",{attrs:{name:"referencia",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){var a=n.errors;return[r("b-form-input",{attrs:{id:"reference",type:"text",placeholder:"Referencia",state:!(a.length>0)&&null},model:{value:e.reference,callback:function(r){t.$set(e,"reference",r)},expression:"item.reference"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)],1),r("b-col",{attrs:{md:"2"}},[r("b-form-group",{attrs:{label:"Linea","label-for":"line"}},[r("validation-provider",{attrs:{name:"linea",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){var a=n.errors;return[r("b-form-input",{attrs:{id:"line",type:"text",placeholder:"Linea Producto",state:!(a.length>0)&&null},model:{value:e.line,callback:function(r){t.$set(e,"line",r)},expression:"item.line"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)],1),r("b-col",{attrs:{lg:"2",md:"2"}},[r("b-form-group",{attrs:{label:"Costo","label-for":"cost"}},[r("validation-provider",{attrs:{name:"costo",rules:"required|numeric"},scopedSlots:t._u([{key:"default",fn:function(n){var a=n.errors;return[r("b-form-input",{attrs:{id:"cost",type:"text",placeholder:"Costo",state:!(a.length>0)&&null},model:{value:e.cost,callback:function(r){t.$set(e,"cost",r)},expression:"item.cost"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)],1),r("b-col",{attrs:{md:"1"}},[r("b-form-group",{attrs:{label:"Stock","label-for":"stock"}},[r("validation-provider",{attrs:{name:"stock",rules:"required|numeric"},scopedSlots:t._u([{key:"default",fn:function(n){var a=n.errors;return[r("b-form-input",{attrs:{id:"stock",type:"text",state:!(a.length>0)&&null},model:{value:e.stock,callback:function(r){t.$set(e,"stock",r)},expression:"item.stock"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)],1),r("b-col",{attrs:{md:"1"}},[r("b-form-group",{attrs:{label:"MStock","label-for":"min_stock"}},[r("validation-provider",{attrs:{name:"min_stock",rules:"required|numeric"},scopedSlots:t._u([{key:"default",fn:function(n){var a=n.errors;return[r("b-form-input",{attrs:{id:"min_stock",type:"text",state:!(a.length>0)&&null},model:{value:e.min_stock,callback:function(r){t.$set(e,"min_stock",r)},expression:"item.min_stock"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)],1),r("b-col",{staticClass:"mb-50",attrs:{lg:"2",md:"3"}},[r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(234, 84, 85, 0.15)",expression:"'rgba(234, 84, 85, 0.15)'",modifiers:{400:!0}}],staticClass:"mt-0 mt-md-2",attrs:{variant:"outline-danger"},on:{click:function(e){return t.removeItem(n)}}},[r("feather-icon",{staticClass:"mr-25",attrs:{icon:"XIcon"}}),r("span",[t._v("Eliminar")])],1)],1),r("b-col",{attrs:{cols:"12"}},[r("hr")])],1)})),r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mr-2 my-1",attrs:{variant:"secondary"},on:{click:t.repeateAgain}},[r("feather-icon",{staticClass:"mr-25",attrs:{icon:"PlusIcon"}}),r("span",[t._v("Agregar Campos")])],1),r("b-button",{staticClass:"my-1",attrs:{variant:"success",disabled:n},on:{click:t.addInventory}},[r("feather-icon",{staticClass:"mr-25",attrs:{icon:"CheckIcon"}}),r("span",[t._v("Registrar Inventario")])],1)],2)]}}])})],1)],1)},a=[],i=r("1da1"),o=(r("96cf"),r("a434"),r("11de")),s=r("a15b"),c=r("b28b"),l=r("1947"),u=r("8226"),d=r("4797"),f=r("205f"),v=r("bf9a"),m=r("e009"),p=r("d008"),h=r("223c"),b={components:{BForm:o["a"],BRow:s["a"],BCol:c["a"],BButton:l["a"],BFormGroup:u["a"],BFormInput:d["a"],BCard:f["a"]},directives:{Ripple:m["a"]},mixins:[v["a"]],data:function(){return{validationErrors:"",items:[{id:1,code:"",reference:"",line:"",cost:"",stock:"",min_stock:""}],nextInventoryId:1}},mounted:function(){this.initTrHeight()},created:function(){window.addEventListener("resize",this.initTrHeight)},destroyed:function(){window.removeEventListener("resize",this.initTrHeight)},methods:{repeateAgain:function(){var t=this;this.items.push({id:this.nextInventoryId+=this.nextInventoryId}),this.$nextTick((function(){t.trAddHeight(t.$refs.row[0].offsetHeight)}))},removeItem:function(t){this.items.splice(t,1),this.trTrimHeight(this.$refs.row[0].offsetHeight)},initTrHeight:function(){var t=this;this.trSetHeight(null),this.$nextTick((function(){t.trSetHeight(t.$refs.form_inventory.scrollHeight)}))},addInventory:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$refs.form_inventory.validate();case 3:if(r=e.sent,r){e.next=8;break}t.showToast("Alerta","AlertTriangleIcon","Validar el formulario","warning"),e.next=12;break;case 8:return e.next=10,p["b"](t.items);case 10:n=e.sent,200===n.status&&(t.validationErrors="",t.$refs.formInventory.reset(),t.showToast("Agregado","CheckIcon","Inventario Agregado","success"),setTimeout((function(){t.$router.go(-1)}),3e3));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),422===e.t0.response.status&&(t.validationErrors=e.t0.response.data.errors);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()},showToast:function(t,e,r,n){this.$toast({component:h["a"],props:{title:t,icon:e,text:r,variant:n}})}}},g=b,_=(r("15c8"),r("2877")),x=Object(_["a"])(g,n,a,!1,null,"5f21f819",null);e["default"]=x.exports},"49b5":function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));r("ac1f"),r("5319");var n=r("bc3a"),a=r.n(n),i=r("4360");function o(){return a.a.create({baseURL:i["a"].state.api.apiURL,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("accessToken").replace(/['"]+/g,""))}})}},5319:function(t,e,r){"use strict";var n=r("d784"),a=r("825a"),i=r("7b0b"),o=r("50c4"),s=r("a691"),c=r("1d80"),l=r("8aa5"),u=r("14c3"),d=Math.max,f=Math.min,v=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,r,n){var b=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=n.REPLACE_KEEPS_$0,_=b?"$":"$0";return[function(r,n){var a=c(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,a,n):e.call(String(a),r,n)},function(t,n){if(!b&&g||"string"===typeof n&&-1===n.indexOf(_)){var i=r(e,t,this,n);if(i.done)return i.value}var c=a(t),v=String(this),m="function"===typeof n;m||(n=String(n));var p=c.global;if(p){var y=c.unicode;c.lastIndex=0}var k=[];while(1){var C=u(c,v);if(null===C)break;if(k.push(C),!p)break;var I=String(C[0]);""===I&&(c.lastIndex=l(v,o(c.lastIndex),y))}for(var w="",S=0,$=0;$<k.length;$++){C=k[$];for(var E=String(C[0]),H=d(f(s(C.index),v.length),0),A=[],T=1;T<C.length;T++)A.push(h(C[T]));var R=C.groups;if(m){var j=[E].concat(A,H,v);void 0!==R&&j.push(R);var B=String(n.apply(void 0,j))}else B=x(E,v,H,A,R,n);H>=S&&(w+=v.slice(S,H)+B,S=H+E.length)}return w+v.slice(S)}];function x(t,r,n,a,o,s){var c=n+t.length,l=a.length,u=p;return void 0!==o&&(o=i(o),u=m),e.call(s,u,(function(e,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,n);case"'":return r.slice(c);case"<":s=o[i.slice(1,-1)];break;default:var u=+i;if(0===u)return e;if(u>l){var d=v(u/10);return 0===d?e:d<=l?void 0===a[d-1]?i.charAt(1):a[d-1]+i.charAt(1):e}s=a[u-1]}return void 0===s?"":s}))}}))},"62b1":function(t,e,r){},"8d81":function(t,e,r){},b549:function(t,e,r){"use strict";r("8d81")},bf9a:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r("a9e3");var n={data:function(){return{trHeight:null}},methods:{trAddHeight:function(t){var e=Number(this.trHeight.substring(0,this.trHeight.length-2));this.trHeight="".concat(e+Number(t),"px")},trTrimHeight:function(t){var e=Number(this.trHeight.substring(0,this.trHeight.length-2));this.trHeight="".concat(e-Number(t),"px")},trSetHeight:function(t){this.trHeight=null===t?"auto":"".concat(Number(t),"px")}}}},d008:function(t,e,r){"use strict";r.d(e,"d",(function(){return a})),r.d(e,"e",(function(){return i})),r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return s})),r.d(e,"h",(function(){return c})),r.d(e,"f",(function(){return l})),r.d(e,"g",(function(){return u})),r.d(e,"c",(function(){return d}));var n=r("49b5");function a(){return Object(n["a"])().get("/store_inventory")}function i(){return Object(n["a"])().get("/inventory_codes")}function o(t){return Object(n["a"])().post("/store_inventory",t)}function s(t){return Object(n["a"])().post("/store_inventory/".concat(t))}function c(t,e){return Object(n["a"])().put("/store_inventory/".concat(t),e)}function l(){return Object(n["a"])().get("/store_inventory_entries")}function u(t){return Object(n["a"])().post("/store_inventory_entry",t)}function d(t){return Object(n["a"])().post("/store_inventory_entry_delete/".concat(t))}}}]);
//# sourceMappingURL=chunk-10f82310.54cd42d2.js.map