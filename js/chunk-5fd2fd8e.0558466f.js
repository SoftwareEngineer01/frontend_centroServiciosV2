(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5fd2fd8e"],{"0be5":function(t,e,r){},"223c":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"toastification"},[r("div",{staticClass:"d-flex align-items-start"},[r("b-avatar",{staticClass:"mr-75 flex-shrink-0",attrs:{variant:t.variant,size:"1.8rem"}},[r("feather-icon",{attrs:{icon:t.icon,size:"15"}})],1),r("div",{staticClass:"d-flex flex-grow-1"},[r("div",[t.title?r("h5",{staticClass:"mb-0 font-weight-bolder toastification-title",class:"text-"+t.variant,domProps:{textContent:t._s(t.title)}}):t._e(),t.text?r("small",{staticClass:"d-inline-block text-body",domProps:{textContent:t._s(t.text)}}):t._e()]),r("span",{staticClass:"cursor-pointer toastification-close-icon ml-auto ",on:{click:function(e){return t.$emit("close-toast")}}},[t.hideClose?t._e():r("feather-icon",{staticClass:"text-body",attrs:{icon:"XIcon"}})],1)])],1)])},i=[],a=r("e8a3"),o={components:{BAvatar:a["a"]},props:{variant:{type:String,default:"primary"},icon:{type:String,default:null},title:{type:String,default:null},text:{type:String,default:null},hideClose:{type:Boolean,default:!1}}},s=o,c=(r("b549"),r("2877")),u=Object(c["a"])(s,n,i,!1,null,"55dd3057",null);e["a"]=u.exports},"49b5":function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));r("ac1f"),r("5319");var n=r("bc3a"),i=r.n(n),a=r("4360");function o(){return i.a.create({baseURL:a["a"].state.api.apiURL,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("accessToken").replace(/['"]+/g,""))}})}},5319:function(t,e,r){"use strict";var n=r("d784"),i=r("825a"),a=r("7b0b"),o=r("50c4"),s=r("a691"),c=r("1d80"),u=r("8aa5"),l=r("14c3"),d=Math.max,f=Math.min,v=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,r,n){var m=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=n.REPLACE_KEEPS_$0,y=m?"$":"$0";return[function(r,n){var i=c(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,i,n):e.call(String(i),r,n)},function(t,n){if(!m&&b||"string"===typeof n&&-1===n.indexOf(y)){var a=r(e,t,this,n);if(a.done)return a.value}var c=i(t),v=String(this),h="function"===typeof n;h||(n=String(n));var p=c.global;if(p){var x=c.unicode;c.lastIndex=0}var C=[];while(1){var w=l(c,v);if(null===w)break;if(C.push(w),!p)break;var E=String(w[0]);""===E&&(c.lastIndex=u(v,o(c.lastIndex),x))}for(var I="",k=0,$=0;$<C.length;$++){w=C[$];for(var S=String(w[0]),H=d(f(s(w.index),v.length),0),A=[],T=1;T<w.length;T++)A.push(g(w[T]));var R=w.groups;if(h){var j=[S].concat(A,H,v);void 0!==R&&j.push(R);var B=String(n.apply(void 0,j))}else B=_(S,v,H,A,R,n);H>=k&&(I+=v.slice(k,H)+B,k=H+S.length)}return I+v.slice(k)}];function _(t,r,n,i,o,s){var c=n+t.length,u=i.length,l=p;return void 0!==o&&(o=a(o),l=h),e.call(s,l,(function(e,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,n);case"'":return r.slice(c);case"<":s=o[a.slice(1,-1)];break;default:var l=+a;if(0===l)return e;if(l>u){var d=v(l/10);return 0===d?e:d<=u?void 0===i[d-1]?a.charAt(1):i[d-1]+a.charAt(1):e}s=i[l-1]}return void 0===s?"":s}))}}))},"8d81":function(t,e,r){},b549:function(t,e,r){"use strict";r("8d81")},bf9a:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r("a9e3");var n={data:function(){return{trHeight:null}},methods:{trAddHeight:function(t){var e=Number(this.trHeight.substring(0,this.trHeight.length-2));this.trHeight="".concat(e+Number(t),"px")},trTrimHeight:function(t){var e=Number(this.trHeight.substring(0,this.trHeight.length-2));this.trHeight="".concat(e-Number(t),"px")},trSetHeight:function(t){this.trHeight=null===t?"auto":"".concat(Number(t),"px")}}}},c35e:function(t,e,r){"use strict";r("0be5")},d008:function(t,e,r){"use strict";r.d(e,"d",(function(){return i})),r.d(e,"e",(function(){return a})),r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return s})),r.d(e,"h",(function(){return c})),r.d(e,"f",(function(){return u})),r.d(e,"g",(function(){return l})),r.d(e,"c",(function(){return d}));var n=r("49b5");function i(){return Object(n["a"])().get("/store_inventory")}function a(){return Object(n["a"])().get("/inventory_codes")}function o(t){return Object(n["a"])().post("/store_inventory",t)}function s(t){return Object(n["a"])().post("/store_inventory/".concat(t))}function c(t,e){return Object(n["a"])().put("/store_inventory/".concat(t),e)}function u(){return Object(n["a"])().get("/store_inventory_entries")}function l(t){return Object(n["a"])().post("/store_inventory_entry",t)}function d(t){return Object(n["a"])().post("/store_inventory_entry_delete/".concat(t))}},febd0:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",{attrs:{title:"Agregar Entradas Inventario"}},[t.validationErrors?r("ErrorValidation",{attrs:{errors:t.validationErrors}}):t._e(),r("div",[r("b-button",{staticClass:"mb-2",attrs:{variant:"primary"},on:{click:function(e){return t.$router.go(-1)}}},[t._v(" Regresar ")]),r("validation-observer",{ref:"form_inventory_entry",scopedSlots:t._u([{key:"default",fn:function(e){var n=e.invalid;return[r("b-form",{ref:"formInventoryEntry",staticClass:"repeater-form",style:{height:t.trHeight},on:{submit:function(e){return e.preventDefault(),t.repeateAgain.apply(null,arguments)}}},[t._l(t.items,(function(e,n){return r("b-row",{key:e.id,ref:"row",refInFor:!0,attrs:{id:e.id}},[r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{name:"Código del Inventario",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){var i=n.errors;return[r("b-form-group",{attrs:{label:"Buscar por Código y Referencia del Inventario","label-for":"inventoryCode",state:!(i.length>0)&&null}},[r("v-select",{attrs:{label:"codeRef",dir:t.$store.state.appConfig.isRTL?"rtl":"ltr",options:t.inventoryCodes,reduce:function(t){return t.id},clearable:!0,"input-id":"inventoryCode",placeholder:"Seleccione el código"},model:{value:e.inventory_id,callback:function(r){t.$set(e,"inventory_id",r)},expression:"item.inventory_id"}}),r("b-form-invalid-feedback",{attrs:{state:!(i.length>0)&&null}},[t._v(" "+t._s(i[0])+" ")])],1)]}}],null,!0)})],1),r("b-col",{attrs:{md:"2"}},[r("b-form-group",{attrs:{label:"Cantidad","label-for":"quantity"}},[r("validation-provider",{attrs:{name:"cantidad",rules:"required|numeric"},scopedSlots:t._u([{key:"default",fn:function(n){var i=n.errors;return[r("b-form-input",{attrs:{id:"quantity",type:"text",state:!(i.length>0)&&null},model:{value:e.quantity,callback:function(r){t.$set(e,"quantity",r)},expression:"item.quantity"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(i[0]))])]}}],null,!0)})],1)],1),r("b-col",{staticClass:"mb-50",attrs:{lg:"2",md:"3"}},[r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(234, 84, 85, 0.15)",expression:"'rgba(234, 84, 85, 0.15)'",modifiers:{400:!0}}],staticClass:"mt-0 mt-md-2",attrs:{variant:"outline-danger"},on:{click:function(e){return t.removeItem(n)}}},[r("feather-icon",{staticClass:"mr-25",attrs:{icon:"XIcon"}}),r("span",[t._v("Eliminar")])],1)],1),r("b-col",{attrs:{cols:"12"}},[r("hr")])],1)})),r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mr-2 my-1",attrs:{variant:"secondary"},on:{click:t.repeateAgain}},[r("feather-icon",{staticClass:"mr-25",attrs:{icon:"PlusIcon"}}),r("span",[t._v("Agregar Campos")])],1),r("b-button",{staticClass:"my-1",attrs:{variant:"success",disabled:n},on:{click:t.saveInventoryEntry}},[r("feather-icon",{staticClass:"mr-25",attrs:{icon:"CheckIcon"}}),r("span",[t._v("Registrar Entradas")])],1)],2)]}}])})],1)],1)},i=[],a=r("1da1"),o=(r("96cf"),r("a434"),r("11de")),s=r("a15b"),c=r("b28b"),u=r("1947"),l=r("8226"),d=r("4797"),f=r("205f"),v=r("bf9a"),h=r("e009"),p=r("4a7a"),g=r.n(p),m=r("d008"),b=r("223c"),y={components:{BForm:o["a"],BRow:s["a"],BCol:c["a"],BButton:u["a"],BFormGroup:l["a"],BFormInput:d["a"],BCard:f["a"],vSelect:g.a},directives:{Ripple:h["a"]},mixins:[v["a"]],data:function(){return{validationErrors:"",inventoryCodes:[],items:[{id:1,inventory_id:"",quantity:""}],nextInventoryEntryId:1}},mounted:function(){this.initTrHeight()},created:function(){window.addEventListener("resize",this.initTrHeight),this.getInventoryCodes()},destroyed:function(){window.removeEventListener("resize",this.initTrHeight)},methods:{repeateAgain:function(){var t=this;this.items.push({id:this.nextInventoryEntryId+=this.nextInventoryEntryId}),this.$nextTick((function(){t.trAddHeight(t.$refs.row[0].offsetHeight)}))},removeItem:function(t){this.items.splice(t,1),this.trTrimHeight(this.$refs.row[0].offsetHeight)},initTrHeight:function(){var t=this;this.trSetHeight(null),this.$nextTick((function(){t.trSetHeight(t.$refs.form_inventory_entry.scrollHeight)}))},saveInventoryEntry:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$refs.form_inventory_entry.validate();case 3:if(r=e.sent,r){e.next=8;break}t.showToast("Alerta","AlertTriangleIcon","Validar el formulario","warning"),e.next=12;break;case 8:return e.next=10,m["g"](t.items);case 10:n=e.sent,200===n.status&&(t.validationErrors="",t.$refs.formInventoryEntry.reset(),t.showToast("Agregado","CheckIcon","Entradas del Inventario Agregadas","success"),setTimeout((function(){t.$router.go(-1)}),3e3));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),422===e.t0.response.status&&(t.validationErrors=e.t0.response.data.errors);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()},getInventoryCodes:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m["e"]();case 3:r=e.sent,200===r.status&&(t.inventoryCodes=r.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),422===e.t0.response.status&&(n=e.t0.response.data.errors,t.showToast("Advertencia!","AlertCircleIcon",n,"warning"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},showToast:function(t,e,r,n){this.$toast({component:b["a"],props:{title:t,icon:e,text:r,variant:n}})}}},_=y,x=(r("c35e"),r("2877")),C=Object(x["a"])(_,n,i,!1,null,"16947c35",null);e["default"]=C.exports}}]);
//# sourceMappingURL=chunk-5fd2fd8e.0558466f.js.map